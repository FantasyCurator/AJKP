<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AJK Interactive Map â€” refined2</title>
<style>
  body{margin:0;min-height:100vh;display:flex;align-items:center;justify-content:center;background:#eef4fb;font-family:Segoe UI,Arial}
  .frame{width:95%;max-width:1024px;box-shadow:0 12px 40px rgba(3,30,70,0.12);border-radius:8px;overflow:hidden;background:#fff}
  .svg-wrap{position:relative;width:100%;padding-bottom:151.66%}
  svg{position:absolute;left:0;top:0;width:100%;height:100%;display:block}
  .hit{fill:transparent;stroke:none;pointer-events:all}
  .hit:hover{cursor:pointer}
  image{display:block;width:100%;height:100%}
</style>
</head>
<body>
  <div class="frame">
    <div class="svg-wrap" id="svgWrap">
      <svg id="mapSVG" viewBox="0 0 1024 1553" xmlns="http://www.w3.org/2000/svg">
        <image id="baseImage" href="AJK.jpg" width="1024" height="1553"></image>

        <!-- Mirpur enlarged 40px upward -->
        <polygon id="mirpurPoly" class="hit"
          points="80,1110 220,1210 320,1310 420,1410 520,1460 640,1485 720,1460 760,1430 780,1360 760,1310 700,1260 600,1210 480,1160 360,1140 260,1120 160,1100">
        </polygon>

        <!-- Poonch extended 20px left -->
        <polygon id="poonchPoly" class="hit"
          points="220,640 250,710 300,770 350,820 410,860 470,890 530,910 590,920 650,910 690,880 710,850 710,820 690,780 640,740 580,700 510,670 450,650 380,640 300,640">
        </polygon>

        <!-- Muzaffarabad extended left + downward -->
        <polygon id="muzaffarabadPoly" class="hit"
          points="480,40 540,60 620,100 700,140 780,200 810,240 820,280 810,320 780,350 750,370 700,380 620,380 540,360 500,320 480,260 460,200 480,140 500,80 
                  460,80 440,100 420,140 420,180 420,240 440,300 460,340 460,380 460,420 480,440 500,460 540,480 600,500 640,500 700,480 740,460 760,420 760,380">
        </polygon>
      </svg>
    </div>
  </div>

<script>
(function(){
  const regionData = {
    mirpurPoly: { img: 'Mirpur.jpg', link: 'https://fantasycurator.github.io/RegionMirpur', clickable: true },
    poonchPoly: { img: 'Poonch.jpg', link: '#', clickable: false },
    muzaffarabadPoly: { img: 'Muzaffarabad.jpg', link: '#', clickable: false }
  };

  const baseImage = document.getElementById('baseImage');
  Object.values(regionData).forEach(r=>{ const i=new Image(); i.src=r.img; });

  function swapTo(img){ baseImage.setAttribute('href', img); }
  function restore(){ baseImage.setAttribute('href', 'AJK.jpg'); }

  Object.keys(regionData).forEach(id=>{
    const poly=document.getElementById(id);
    const info=regionData[id];

    poly.addEventListener('mouseenter',()=>swapTo(info.img));
    poly.addEventListener('mouseleave',restore);
    poly.addEventListener('click',e=>{
      if(info.clickable) window.location.href=info.link;
      else e.preventDefault();
    });

    let lastTap=0;
    poly.addEventListener('touchstart',e=>{
      e.preventDefault();
      const now=Date.now();
      const gap=now-lastTap;
      swapTo(info.img);
      if(gap>0&&gap<420&&info.clickable){
        setTimeout(()=>window.location.href=info.link,120);
      }
      lastTap=now;
    });
  });

  document.getElementById('mapSVG').addEventListener('pointerdown',e=>{
    if(!e.target.classList.contains('hit')) restore();
  });
})();
</script>
</body>
</html>
